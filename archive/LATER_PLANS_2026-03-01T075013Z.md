# LATER_PLANS

## 2026-02-24T07:33:33Z

- (暂无)

## 2026-02-24T07:46:46Z

- 可选: 增加一个轻量 smoke test,在设置 `ALL_PROXY=socks5://...` 的情况下创建 `httpx.Client()` 或 import `gradio`,用来防止未来依赖变更导致 SOCKS 场景再次崩溃.

## 2026-02-24T09:00:21Z

- 可选: 为 `src/vistadream/flux/util.py` 增加单测(不触网),覆盖 `_modelscope_resolve_url` 与路径解析逻辑,避免未来改动导致下载链接拼错.

## 2026-02-24T13:25:00Z

- 可选: 为 `VistaRerunConfig` 增加一个可配置的 gRPC 端口(例如环境变量 `VISTADREAM_RERUN_GRPC_PORT`),避免 9876 被占用时用户只能读日志里的动态端口.
- 可选: 如果 dev 环境提供 pytest,为 `init_rerun_from_config` 增加单测(通过 monkeypatch rerun API),防止未来又引入“配置构造期副作用”或错误选择 spawn/serve/connect.

## 2026-02-24T14:10:00Z

- 可选: 把 “释放初始化大模型以降低 OOM” 做成通用工具函数,复用到 multi-image pipeline(在推理/导出完成后释放 VGGTPredictor/MoGe 等对象).

## 2026-02-27T05:44:28Z

- 可选: 给高斯初始化增加可配置开关/参数(例如 `init_mode=coarse|depth_tangent_plane`,以及 `scale_z_factor`),方便在深度噪声较大时回退或调薄厚度.
- 可选: 若 Rerun 支持 `Ellipsoids3D`/各向异性 radii,可以考虑在 3D 视图里下采样记录一部分椭球高斯,让可视化更接近真实 splat(同时避免一次性记录 10w+ 椭球导致卡顿).
- 可选: 导出时同时生成 `.splat`/其它常见 web-viewer 格式(如果 `splat-transform` 支持),减少用户“有 PLY 但不知道用什么看”的摩擦.

## 2026-03-01T06:25:36Z

- 可选: coarse Summary 支持可选落盘为 JSON(例如 `--coarse-summary-json-path tmp/coarse_summary.json`),方便自动化对比 fine/coarse 多次跑的差异.
- 可选: 暴露 `traj_type` 为 CLI,并修复/统一 `rot`/`wobble` 等轨迹实现输出为 world->cam(view matrix),避免用户切换轨迹类型时踩矩阵约定坑.
- 可选: `src/vistadream/api/single_img_pipeline.py` 已超过 800 行,可以考虑把 coarse 选帧/日志/渲染等拆分成子模块,降低维护成本.

## 2026-03-01T06:16:55Z

- 可选: 为 multi-image pipeline 增加一个可选的 "RoMa(romatch) 三角化 sanity check" 工具:
  - 输入: 图像目录 + 已有位姿/内参(例如 VGGT 输出或用户提供).
  - 输出: 关键指标(inlier 比例,有效三角化点比例,点云规模) + 可视化点云(用于与 learned depth 点云对照).
  - 目的: 不引入完整 SfM,但能快速发现位姿崩坏/视角不重叠/匹配质量差等问题.
- 可选: 若未来要支持传统 SfM 作为 backend,评估引入 `pycolmap` 或 hloc 类工具链,把 "learned multiview" 与 "SfM" 做成可选路径,并做缓存以避免反复重算 matches.

## 2026-03-01T07:28:24Z

- 可选: 修复运行 `tools/run_single_img.py --help` / pytest 时的 beartype 噪音:
  - 现象: `RerunConfigLike` 是 Protocol,但未标 `@runtime_checkable`,导致 beartype 生成 runtime check 时抛/警告.
  - 方向: 给该 Protocol 加 `@runtime_checkable`,或改注解为具体类型 union,或在 beartype 配置里排除这两个函数.
